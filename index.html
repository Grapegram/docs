<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/docs/styles.css" />
        <title>Main diagram</title>
    </head>
    <body>
        <div id="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="551.0417px" preserveAspectRatio="none" style="width:1021px;height:551px;background:#000000;" version="1.1" viewBox="0 0 1021 551" width="1021.875px" zoomAndPan="magnify"><defs/><g><!--cluster c1--><g id="cluster_c1"><rect fill="none" height="184.5521" rx="4.1667" ry="4.1667" style="stroke:#717D89;stroke-width:2.0833333333333335;stroke-dasharray:7.0,7.0;" width="505.2083" x="505.3958" y="355.8333"/><text fill="#717D89" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="238.4033" x="638.7983" y="376.6616">Grapegram External systems</text><text fill="#717D89" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="61.9324" x="727.0338" y="391.7037">[system]</text></g><!--entity otherNode--><g id="elem_otherNode"><rect fill="#4E5D6C" height="106.429" rx="4.1667" ry="4.1667" style="stroke:#717D89;stroke-width:2.0833333333333335;" width="212.2457" x="522.1979" y="417.2917"/><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="46.8333" x="537.8229" y="446.4532">Other</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="584.6562" y="446.4532">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="83.2774" x="589.7333" y="446.4532">grapegam</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="673.0107" y="446.4532">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="40.7308" x="678.0878" y="446.4532">node</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="626.3341" y="461.4954">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="21.8994" x="594.2631" y="476.0461">Not</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="616.1626" y="476.0461">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="11.3953" x="620.1359" y="476.0461">in</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="631.5312" y="476.0461">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="26.8738" x="635.5046" y="476.0461">MVP</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="35.4919" x="545.3404" y="490.5969">Other</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="580.8324" y="490.5969">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="69.2688" x="584.8057" y="490.5969">grapegram</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="654.0745" y="490.5969">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="53.2532" x="658.0479" y="490.5969">backend</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="39.5691" x="590.952" y="505.1477">server</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="630.5211" y="505.1477">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="31.1951" x="634.4945" y="505.1477">node</text></g><!--entity messengersContectors--><g id="elem_messengersContectors"><rect fill="#4E5D6C" height="106.429" rx="4.1667" ry="4.1667" style="stroke:#717D89;stroke-width:2.0833333333333335;" width="222.76" x="771.1042" y="417.2917"/><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="89.5579" x="793.0651" y="446.4532">Messenger</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="882.623" y="446.4532">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="84.2031" x="887.7001" y="446.4532">Connector</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="880.4975" y="461.4954">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="21.8994" x="848.4266" y="476.0461">Not</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="870.326" y="476.0461">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="11.3953" x="874.2994" y="476.0461">in</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="885.6946" y="476.0461">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="26.8738" x="889.668" y="476.0461">MVP</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="64.4714" x="786.7292" y="490.5969">Connector</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="851.2006" y="490.5969">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="12.5488" x="855.174" y="490.5969">to</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="867.7228" y="490.5969">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="33.3008" x="871.6962" y="490.5969">other</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="904.997" y="490.5969">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="69.2688" x="908.9704" y="490.5969">messenger</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="61.0168" x="851.9757" y="505.1477">aplication</text></g><!--entity user--><g id="elem_user"><rect fill="#5BC0DE" height="98.2259" rx="4.1667" ry="4.1667" style="stroke:#7CCDE5;stroke-width:2.0833333333333335;" width="81.25" x="418.9375" y="17.7083"/><image height="50" width="50" x="434.5625" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACnUlEQVR4XtWXP0tdQRDF/XD5FqnT26cPtvb29ukDKVJYWATEwiKSiAomJMEgEh7CC0eYx3jO7tyZNS9kD/zgce6d2f+z9+28fH++MzNizIYYsyHGbIgxG2LMhhg9Xh9fHh+cfVsD/Obnf4M3H68f81faEIPZPbrYO//1e826uV+lG1kCeZCPhXbRPr/vEcODYE7Keu4gEM85ve5WD+EgxPC0Zp6FmeO4Cq2ZZ6EfHGeIYWRm3zS6Ckuz79VbBTGM/dMbztEVDh3HZ0BcVugPxwMxjP9tAKhQHA/EMF59+PyCk/T0L7YQ+sPxQAzPyY97ziOKDliGTKFAPzjOEMODUaOM9dQrcVjud1e3j4MD+N3bAohfaqM3+0AMBsGtlYDHnce70YwiptUZ5Om10XrfI0YPJMIsAu64PY9m0hTdG8hrbSx13BBjlKOvd9zXrrClOH4UMTyYEZTTw0/fnwDPr0Ll0jP5Gc6200IMgPIW7WWTXS6Vem6qxOIs9Eq1GJmEJuvE2y8/+dGi7PIbaa87AByeiqwTWO6qRmN5JZ4MIPNl6IWZHxk4ZHsbB7oivjg3PyrfPiZfEiuD953IlF6WX4XNAKozYbJklVUYifHCtpMBVOq4l5/NzIH0B7Gyal7+HtkMINN4Tz4h9nZrMuD5mt56Jys/CZsBWONY3hF8Hp+vdxFxfBb+xJDEsyHGCDiMOFjYStgaEXgH7/ZWrYoYFXBuRsqgCYe4dbtWECNL6/t9VFgZzp9FjAyZD72qor+NEWIsMXrhZeQvqCxiRIx891fFZXIJMSJGPpurqq6CGBGjV39F1bMgRgQ3tg1Ff/pbiBHBjW1DuFe43QgxIrZZgUxbPQPgOR98S1QrEBBjNsSYDTFmQ4zZEGM2xJiNP+M9QALcI2DuAAAAAElFTkSuQmCC" y="33.3333"/><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="37.6048" x="440.7601" y="96.8699">User</text></g><!--entity system--><g id="elem_system"><a href="/docs/system" target="_top" title="/docs/system" xlink:actuate="onRequest" xlink:href="/docs/system" xlink:show="new" xlink:title="/docs/system" xlink:type="simple"><rect fill="#F0AD4E" height="48.2259" rx="4.1667" ry="4.1667" style="stroke:#717D89;stroke-width:2.0833333333333335;" width="189.0747" x="365.0313" y="219.0625"/><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="92.0003" x="380.6563" y="248.2241">Grapegram</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="472.6566" y="248.2241">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="60.7473" x="477.7337" y="248.2241">System</text></a></g><!--entity emailSystem--><g id="elem_emailSystem"><rect fill="#717D89" height="77.3275" rx="4.1667" ry="4.1667" style="stroke:#3E4A56;stroke-width:2.0833333333333335;" width="202.4658" x="17.7083" y="431.8438"/><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="50.3652" x="60.8465" y="461.0053">E-Mail</text><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="111.2116" y="461.0053">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="60.7473" x="116.2888" y="461.0053">System</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="116.9545" y="476.0474">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="23.2483" x="33.3333" y="490.5982">The</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="56.5816" y="490.5982">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="51.8738" x="60.555" y="490.5982">external</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="112.4288" y="490.5982">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="38.9832" x="116.4022" y="490.5982">e-mail</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="155.3853" y="490.5982">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="45.1904" x="159.3587" y="490.5982">system</text></g><!--entity authSystems--><g id="elem_authSystems"><rect fill="#717D89" height="91.8783" rx="4.1667" ry="4.1667" style="stroke:#3E4A56;stroke-width:2.0833333333333335;" width="228.4607" x="256.7917" y="424.5625"/><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="67.1916" x="278.1245" y="453.7241">Multiple</text><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="345.316" y="453.7241">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="39.0218" x="350.3931" y="453.7241">Auth</text><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="5.0771" x="389.415" y="453.7241">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14.5833" font-weight="bold" lengthAdjust="spacing" textLength="69.4275" x="394.4921" y="453.7241">Systems</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="369.0353" y="468.7662">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="23.2483" x="272.4167" y="483.317">The</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="295.665" y="483.317">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="51.8738" x="299.6383" y="483.317">external</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="351.5121" y="483.317">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="28.4058" x="355.4855" y="483.317">auth</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="383.8913" y="483.317">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="51.7029" x="387.8647" y="483.317">systems</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="439.5675" y="483.317">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="26.0864" x="443.5409" y="483.317">like:</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="46.3013" x="303.6331" y="497.8678">google,</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="349.9344" y="497.8678">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="61.0657" x="353.9078" y="497.8678">facebook,</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="414.9734" y="497.8678">&#160;</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="19.4641" x="418.9468" y="497.8678">ect</text></g><!--link user to system--><g id="link_user_system"><path d="M459.5625,116.4063 C459.5625,149.8437 459.5625,184.4479 459.5625,210.5104 " fill="none" id="user-to-system" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="459.5625,218.8438,462.6875,210.5104,456.4375,210.5104,459.5625,218.8438" style="stroke:#B25415;stroke-width:3.125;"/><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="33.5083" x="465.8125" y="165.0403">Uses</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="499.3208" y="165.0403">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="77.5452" x="503.6726" y="165.0403">grapegram</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="57.074" x="492.8724" y="179.5911">site/app</text><text fill="#B25415" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.2114" x="549.9464" y="179.5911">;</text></g><!--link system to otherNode--><g id="link_system_otherNode"><path d="M516.0221,271.8511 C529.9804,280.1741 537.1667,286.3021 548.1042,298.5417 C578.6979,332.75 597.0478,372.7986 609.9019,409.1944 " fill="none" id="system-otherNode" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="508.8646,267.5833,514.4217,274.5352,517.6225,269.1671,508.8646,267.5833" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="612.6771,417.0521,612.8486,408.1537,606.9553,410.2351,612.6771,417.0521" style="stroke:#B25415;stroke-width:3.125;"/><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="42.9871" x="581.4375" y="316.3944">Public</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="624.4246" y="316.3944">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="36.4746" x="628.7764" y="316.3944">Node</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="665.251" y="316.3944">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="23.4863" x="669.6028" y="316.3944">API</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="49.8962" x="612.3152" y="330.9452">[HTTPS]</text></g><!--link system to messengersContectors--><g id="link_system_messengersContectors"><path d="M554.5313,252.4896 C602.6042,259.7083 660.5625,273.2292 707.4792,298.5417 C761.4896,327.6771 804.9515,371.9775 837.2015,410.613 " fill="none" id="system-to-messengersContectors" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="842.5417,417.0104,839.6006,408.6104,834.8025,412.6155,842.5417,417.0104" style="stroke:#B25415;stroke-width:3.125;"/><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="42.9871" x="767.8958" y="316.3944">Public</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="810.8829" y="316.3944">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="72.1741" x="815.2347" y="316.3944">Connector</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="887.4088" y="316.3944">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="23.4863" x="891.7606" y="316.3944">API</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="48.9929" x="771.7868" y="330.9452">[HTTPS,</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="3.9734" x="820.7797" y="330.9452">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="28.833" x="824.7531" y="330.9452">WEB</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="3.9734" x="853.5861" y="330.9452">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="53.7964" x="857.5595" y="330.9452">Socket?]</text></g><!--link system to emailSystem--><g id="link_system_emailSystem"><path d="M364.6042,253.7083 C324.7292,261.1979 279.4792,274.5938 243.9375,298.5417 C194.25,332.0313 161.0076,384.7713 140.6117,424.0421 " fill="none" id="system-to-emailSystem" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="136.7708,431.4375,143.385,425.4824,137.8385,422.6018,136.7708,431.4375" style="stroke:#B25415;stroke-width:3.125;"/><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="35.3271" x="250.1875" y="323.6861">Send</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="285.5146" y="323.6861">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="43.6951" x="289.8665" y="323.6861">e-mail</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="333.5615" y="323.6861">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="38.4705" x="337.9133" y="323.6861">using</text></g><!--link system to authSystems--><g id="link_system_authSystems"><path d="M425.7259,273.4066 C416.7676,282.2503 413.5417,287.1146 407.4792,298.5417 C386.6042,337.9479 378.558,380.1717 374.7455,416.0363 " fill="none" id="system-authSystems" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="431.6563,267.5521,423.5304,271.1827,427.9213,275.6305,431.6563,267.5521" style="stroke:#B25415;stroke-width:3.125;"/><polygon fill="#B25415" points="373.8646,424.3229,377.853,416.3666,371.638,415.7059,373.8646,424.3229" style="stroke:#B25415;stroke-width:3.125;"/><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="33.4473" x="413.7292" y="316.3944">Auth</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="447.1764" y="316.3944">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="26.2817" x="451.5282" y="316.3944">and</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="4.3518" x="477.81" y="316.3944">&#160;</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="55.9326" x="482.1618" y="316.3944">register</text><text fill="#B25415" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="38.4216" x="456.701" y="330.9452">users</text></g><!--SRC=[hLHDQzj04BthLqpK7Xoml2anFQIOuhYX3SIsYEs6Gi6ifR6yUBKhTbVveFI_TrOVjfnGwA6wI3ipxxsPjsEVkHtc29FXsfO5cXqQ3LkZSzWvLzWhnWn_6cJ2xSfDQT4aMZbKRf3ed1MIArVcCh8kbMB39iCezg7Lz8xbt3eqh2AtmPbGYInJ_3-arEl48vxTeA3A83XBSIiKmkraFblTt_s3YYiBdfhBevgWRBIbYiWMHZYqxF5oS36uO3xH6Q2HO4IIQrNhlqbMFFm9hSun-iYyk6rQlHl_cA-Mw-KyNd-PFynwvq4mJjF52msMBtdM2uLIQEfps8VtcsoYfJQZyDtsWgT330aG4vrMFK_RXt15BrzPzpqAApKggpbwjdfHtLV32ymCp-78xdXcHwybfL3xKSXIdLXMemziwsjTgfIRbrxouOJovfakHd49DO3quLS0z3HTQ5e4CzCf4chklo6hi0HL52NPSAOT20NJx_5FrItnz1kUx56bGACzKgA2d7VvQSaigemchpOZSTfOufosOQ2mgiAlfGu9S1ggDk501hoG8k5EQ4LolriJQDWUvbp8HUljJJIbuz7OSBb3mDOJZ7mnlFRIq_3IxUfZrMufdIWamfZ23PjzG-SnhSyWnHwl8DCwa-JjbYUuqNhV1nh9hyezocPF3dj0-s8xrbfQ6iQB8Zp_55mBNzzMTkyiBZVa1FWJZEDRtzEtvJ9Ua4ONyfThQD17gxiKVNYukOQ5fXjsdzkUMy9JcnT-1netIojKHkMdFP_wMTd82MCm4_wl0veVnny0]--></g></svg></div>
        <div id="backNav"><</div>
        <script>
            var elems = {};
            var links = [];
            var rels = {};
            var elemPattern = /elem_(.*)/;
            var linkPattern = /link_(.*)_(.*)/;
            var front = [];
            var back = [];

            function initNavigations() {
                const backBtn = document.getElementById("backNav");
                const digram = document.getElementById("diagram");
                const rootPath = "/docs/";
                const isRoot = location.pathname == rootPath;

                if (isRoot) {
                    backBtn.style.display = "none";
                }
                backBtn.addEventListener("click", () => {
                    const current = location.pathname;
                    const newPath =
                        "/" +
                        current
                            .split("/")
                            .filter((it) => it)
                            .slice(0, -1)
                            .join("/");
                    location.replace(newPath);
                });
            }

            function initDiagram() {
                const baseEntitiesGroup =
                    diagram.querySelector(`[id^="elem_"]`).parentElement;
                for (const entity of baseEntitiesGroup.children) {
                    addElement(entity);
                }
                buildDiagramReletionships();
                bindEntities();
            }

            function bindEntities() {
                const entities = [];
                entities.push(...Object.values(elems));
                entities.push(...links.map((l) => l.node));
                for (const entity of entities) {
                    entity.addEventListener("mouseenter", onHoverStart);
                    entity.addEventListener("mouseleave", onHoverEnd);
                    front.push(entity);
                    entity.classList.add("entity");
                }
            }

            function addElement(element) {
                const metadata = element.id;
                const elemMatch = metadata.match(elemPattern);
                if (elemMatch) {
                    const name = elemMatch[1];
                    elems[name] = element;
                    return;
                }
                const linkMatch = metadata.match(linkPattern);
                if (linkMatch) {
                    const start = linkMatch[1];
                    const end = linkMatch[2];
                    links.push({ start, end, node: element });
                    return;
                }
            }

            function buildDiagramReletionships() {
                for (const elem in elems) {
                    rels[elems[elem].id] = [];
                }
                for (const link of links) {
                    const start = elems[link.start];
                    const end = elems[link.end];
                    rels[link.node.id] = [start, end];
                    rels[start.id] = [...rels[start.id], link.node, end];
                    rels[end.id] = [...rels[end.id], link.node, start];
                }
            }

            function toggleAccentElements(elements, show) {
                const toggleGroup = (fromGroup, toGroup) => {
                    for (let i = 0; i < fromGroup.length; ) {
                        const elem = fromGroup[i];
                        if (!elements.includes(elem)) {
                            fromGroup.splice(i, 1);
                            toGroup.push(elem);
                        } else {
                            i++;
                        }
                    }
                };
                if (show) {
                    toggleGroup(front, back);
                } else {
                    toggleGroup(back, front);
                }
                for (const elem of front) {
                    elem.classList.remove("back");
                }
                for (const elem of back) {
                    elem.classList.add("back");
                }
            }

            function onHoverStart(e) {
                const elem = e.target;
                const related = rels[elem.id];
                toggleAccentElements([elem, ...related], true);
            }

            function onHoverEnd(e) {
                const elem = e.target;
                const related = rels[elem.id];
                toggleAccentElements([elem, ...related], false);
            }

            function main() {
                initNavigations();
                initDiagram();
            }
            main();
        </script>
    </body>
</html>
